<template>
  <section class="content">
    <div class="row center-block">
      <h2 style="text-align: center;font-weight: bold;">Rice Demand and Supply Condition on every Cities in Jawa Barat</h2>
      <div class="col-md-12">
        <div class="box">
          <div class="box-header">
            <h3 class="box-title">Sorted from the highest to the lowest</h3>
          </div>
          <!-- /.box-header -->
          <div class="box-body no-padding table-responsive">
            <div class="thresoldbawah"></div>
            <div class="thresold"></div>
            <table class="table table-striped">
              <tbody>
                <tr>
                  <th style="width: 10px">#</th>  
                  <th>City</th>
                  <th style="width: 400px">Demand Fulfilled</th>
                  <th style="width: 40px">Production</th>
                </tr>
                <tr>
                  <td>1.</td>
                  <td>Kabupaten Indramayu</td>
                  <td>
                    <div class="progress progress-xs">
                      <div class="progress-bar" style="width: 100%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-blue">40.277 TON</span></td>
                </tr>
                <tr>
                  <td>2.</td>
                  <td>Kabupaten Karawang</td>
                  <td>
                    <div class="progress progress-xs">
                      <div class="progress-bar" style="width: 93%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-blue">32.709 TON</span></td>
                </tr>
                <tr>
                  <td>3.</td>
                  <td>Kabupaten Subang</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar" style="width: 91%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-blue">27.592 TON</span></td>
                </tr>
                <tr>
                  <td>4.</td>
                  <td>Kabupaten Majalengka</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-success" style="width: 84%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-green">16.738 TON</span></td>
                </tr>
                <tr>
                  <td>5.</td>
                  <td>Kabupaten Bekasi</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-success" style="width: 81%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-green">16.083 TON</span></td>
                </tr>
                <tr>
                  <td>6.</td>
                  <td>Kabupaten Cirebon</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 67%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">14.706 TON</span></td>
                </tr>
                <tr>
                  <td>7.</td>
                  <td>Kabupaten Sukabumi</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 63%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">13.717 TON</span></td>
                </tr>
                <tr>
                  <td>8.</td>
                  <td>Kabupaten Garut</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 62%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">13.150 TON</span></td>
                </tr>
                <tr>
                  <td>9.</td>
                  <td>Kabupaten Tasikmalaya</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 60%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">12.911 TON</span></td>
                </tr>
                <tr>
                  <td>10.</td>
                  <td>Kabupaten Cianjur</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 56%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">10.072 TON</span></td>
                </tr>
                <tr>
                  <td>11.</td>
                  <td>Kabupaten Bandung</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 56%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">10.002 TON</span></td>
                </tr>
                <tr>
                  <td>12.</td>
                  <td>Kabupaten Bogor</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 54%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">9008 TON</span></td>
                </tr>
                <tr>
                  <td>13.</td>
                  <td>Kabupaten Sumedang</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-warning" style="width: 53%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-yellow">8.856 TON</span></td>
                </tr>
                <tr>
                  <td>14.</td>
                  <td>Kabupaten Ciamis</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-red" style="width: 48%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-red">8.097 TON</span></td>
                </tr>
                <tr>
                  <td>15.</td>
                  <td>Kabupaten Kuningan</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-red" style="width: 45%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-red">6.436 TON</span></td>
                </tr>
                <tr>
                  <td>16.</td>
                  <td>Kabupaten Pangandaran</td>
                  <td>
                    <div class="progress progress-xs progress-striped active">
                      <div class="progress-bar progress-bar-red" style="width: 35%"></div>
                    </div>
                  </td>
                  <td><span class="badge bg-red">5.109 TON</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /.box-body -->
        </div>
      </div>
    </div>

    <div class="row center-block">
      <h2>Data tables</h2>
      <div class="col-md-12">
        <div class="box">
          <div class="box-header">
            <h3 class="box-title">Data Table With Full Features</h3>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="dataTables_wrapper form-inline dt-bootstrap" id="example1_wrapper">
              <div class="row">
                <div class="col-sm-6">
                  <div id="example1_length" class="dataTables_length">

                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12 table-responsive">
                  <table aria-describedby="example1_info" role="grid" id="example1" class="table table-bordered table-striped dataTable">
                    <thead>
                      <tr role="row">
                        <th aria-label="Rendering engine: activate to sort column descending" aria-sort="ascending" style="width: 167px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting_asc">Kabupaten/Kota</th>
                        <th aria-label="Browser: activate to sort column ascending" style="width: 207px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting">Komoditas</th>
                        <th aria-label="Platform(s): activate to sort column ascending" style="width: 182px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting">Kebutuhan</th>
                        <th aria-label="Engine version: activate to sort column ascending" style="width: 142px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting">Ketersediaan</th>
                        <th aria-label="CSS grade: activate to sort column ascending" style="width: 101px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting">Selisih</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Indramayu</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                      <tr class="odd" role="row">
                        <td class="sorting_1">Kabupaten Karawang</td>
                        <td>Beras</td>
                        <td>87.000 ton</td>
                        <td>91.000 ton</td>
                        <td>+4.000 ton</td>
                      </tr>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Subang</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                      <tr class="odd" role="row">
                        <td class="sorting_1">Kabupaten Majalengka</td>
                        <td>Beras</td>
                        <td>87.000 ton</td>
                        <td>91.000 ton</td>
                        <td>+4.000 ton</td>
                      </tr>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Bekasi</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                      <tr class="odd" role="row">
                        <td class="sorting_1">Kabupaten Cirebon</td>
                        <td>Beras</td>
                        <td>87.000 ton</td>
                        <td>91.000 ton</td>
                        <td>+4.000 ton</td>
                      </tr>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Sukabumi</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                      <tr class="odd" role="row">
                        <td class="sorting_1">Kabupaten Garut</td>
                        <td>Beras</td>
                        <td>87.000 ton</td>
                        <td>91.000 ton</td>
                        <td>+4.000 ton</td>
                      </tr>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Tasikmalaya</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                      <tr class="odd" role="row">
                        <td class="sorting_1">Kabupaten Cianjur</td>
                        <td>Beras</td>
                        <td>87.000 ton</td>
                        <td>91.000 ton</td>
                        <td>+4.000 ton</td>
                      </tr>
                      <tr class="even" role="row">
                        <td class="sorting_1">Kabupaten Bandung</td>
                        <td>Beras</td>
                        <td>54.000 ton</td>
                        <td>48.000 ton</td>
                        <td>-6.000 ton</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <h2>DETAIL PER KABUPATEN/KOTA</h2>
              <div class="row">
                <div class="col-md-12">
                  <!-- MAP & BOX PANE -->
                  <div class="box box-success" style="display: flex; flex-wrap: wrap; justify-content: space-around; padding-top: 25px; padding-bottom: 25px; flex-direction: column;">
                      <canvas id="lineDemand" ></canvas>
                      <canvas id="lineProduction" ></canvas>
                      <canvas id="lineDeficit" ></canvas>
                  </div>
                  <link rel="stylesheet" href="/static/js/plugins/jvectormap/jquery-jvectormap-2.0.3.css" >
                </div>
              </div>
          
            </div>
            <!-- /.box-body -->
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
// import $ from 'jquery'
import Chart from 'chart.js'
// Require needed datatables modules
require('datatables.net')
require('datatables.net-bs')

export default {
  name: 'Tables',
  mounted() {
    this.$nextTick(() => {
      var ctx = document.getElementById('lineDemand').getContext('2d')
      var config = {
        type: 'line',
        data: {
          labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
          datasets: [{
            label: 'RICE CONSUMPTION',
            fill: false,
            borderColor: 'black',
            pointBackgroundColor: '#284184',
            backgroundColor: 'rgba(0, 0, 0, 0)',
            data: [
              15291.38,
              13811.57,
              15291.38,
              14798.11,
              15291.38,
              14798.11,
              15291.38,
              15291.38,
              14798.11,
              15291.38,
              14798.11,
              15291.38
            ]
          }, {
            label: 'RICE PRODUCTION',
            borderColor: 'red',
            pointBackgroundColor: '#4BC0C0',
            backgroundColor: 'rgba(0, 0, 0, 0)',
            data: [
              27334.53,
              66073.53,
              133866.78,
              108251.97,
              75124.7,
              75667.77,
              92412.43,
              79831.31,
              75396.23,
              47156.59,
              42178.44,
              40277.7
            ]
          }, {
            label: 'PADDY PRODUCTION',
            borderColor: 'green',
            pointBackgroundColor: '#4BC0C0',
            backgroundColor: 'rgba(0, 0, 0, 0)',
            data: [
              43567.95,
              105313.24,
              213367.52,
              172540.6,
              119739.72,
              120605.3,
              147294.28,
              127241.48,
              120172.51,
              75161.92,
              67227.36,
              64197.8
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: !this.isMobile,
          legend: {
            position: 'bottom',
            display: true
          },
          tooltips: {
            mode: 'label',
            xPadding: 10,
            yPadding: 10,
            bodySpacing: 10
          },
          scales: {
            xAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Months'
              }
            }],
            yAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Weigth (ton)'
              }
            }]
          }
        }
      }
      new Chart(ctx, config) // eslint-disable-line no-new
      var pdx = document.getElementById('lineProduction').getContext('2d')
      var config2 = {
        type: 'bar',
        data: {
          labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
          datasets: [{
            label: 'RICE SURPLUS',
            fill: true,
            borderColor: 'black',
            pointBackgroundColor: '#284184',
            backgroundColor: 'rgba(40, 255, 120, 0.8)',
            data: [
              15291.38,
              13811.57,
              15291.38,
              14798.11,
              15291.38,
              14798.11,
              15291.38,
              15291.38,
              14798.11,
              15291.38,
              14798.11,
              15291.38
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: !this.isMobile,
          legend: {
            position: 'bottom',
            display: true
          },
          tooltips: {
            mode: 'label',
            xPadding: 10,
            yPadding: 10,
            bodySpacing: 10
          },
          scales: {
            xAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Months'
              }
            }],
            yAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Weigth (ton)'
              }
            }]
          }
        }
      }
      new Chart(pdx, config2) // eslint-disable-line no-new
      var ldx = document.getElementById('lineDeficit').getContext('2d')
      var config3 = {
        type: 'bar',
        data: {
          labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
          datasets: [{
            label: 'RICE AVAILABILITY',
            fill: true,
            borderColor: 'black',
            pointBackgroundColor: '#284184',
            backgroundColor: 'rgba(40, 100, 255, 0.8)',
            data: [
              260915.89,
              266236.66,
              285478.16,
              299415.98,
              305740.43,
              312513.17,
              322639.1,
              329998.51,
              336711.54,
              336885.97,
              336294.61,
              334956.41
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: !this.isMobile,
          legend: {
            position: 'bottom',
            display: true
          },
          tooltips: {
            mode: 'label',
            xPadding: 10,
            yPadding: 10,
            bodySpacing: 10
          },
          scales: {
            xAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Months'
              }
            }],
            yAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Weigth (ton)'
              }
            }]
          }
        }
      }
      new Chart(ldx, config3) // eslint-disable-line no-new
    })
  }
}
</script>

<style>
/* Using the bootstrap style, but overriding the font to not draw in
   the Glyphicons Halflings font as an additional requirement for sorting icons.

   An alternative to the solution active below is to use the jquery style
   which uses images, but the color on the images does not match adminlte.

@import url('/static/js/plugins/datatables/jquery.dataTables.min.css');
*/

@import url('/static/js/plugins/datatables/dataTables.bootstrap.css');

table.dataTable thead .sorting:after,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_desc:after {
  font-family: 'FontAwesome';
}

table.dataTable thead .sorting:after {
  content: '\f0dc';
}

table.dataTable thead .sorting_asc:after {
  content: '\f0dd';
}

table.dataTable thead .sorting_desc:after {
  content: '\f0de';
}

div.thresoldbawah {
  border-left: 4px solid red;
  height: 88%;
  position: absolute;
  left: 75%;
  margin-left: 3px;
  bottom: 0;
}

div.thresold {
  border-left: 3px solid red;
  height: 88%;
  position: absolute;
  left: 80%;
  margin-left: 3px;
  bottom: 0;
}
</style>
